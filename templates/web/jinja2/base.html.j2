<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>CNM58</title>

  <!-- Custom fonts for this template-->
  {#
  <!-- <link href="../static/vendor/fontawesome-free/css/fontawesome.min.css" rel="stylesheet" type="text/css"> --> #}
  <link rel="stylesheet"
    href="https://maxst.icons8.com/vue-static/landings/line-awesome/font-awesome-line-awesome/css/all.min.css">
  <link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet">
  <link href="https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap4.min.css">

  <!-- Custom styles for this template-->
  <link href="{{static ('css/sb-admin-2.css')}}" rel="stylesheet">
  <link href="{{static('css/select-dropdown.css')}}" rel="stylesheet" />
  <link href="{{static ('css/custom.css')}}" rel="stylesheet">
  <link href="{{static ('css/bootstrap-select.css')}}" rel="stylesheet">
  <link href="{{static('toastr/toastr.min.css')}}" rel="stylesheet" />


  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/line-awesome/1.3.0/line-awesome/css/line-awesome.min.css"
    integrity="sha512-vebUliqxrVkBy3gucMhClmyQP9On/HAWQdKDXRaAlb/FKuTbxkjPKUyqVOxAcGwFDka79eTF+YXwfke1h3/wfg=="
    crossorigin="anonymous" />

  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

  <style>
    .show-loader {
      border: 16px solid #f3f3f3;
      /* Light grey */
      border-top: 16px solid #3498db;
      /* Blue */
      border-radius: 50%;
      width: 120px;
      height: 120px;
      animation: spin 2s linear infinite;
      position: fixed;
      z-index: 999;

      overflow: show;
      margin: auto;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
    }
    @keyframes spin {
      0%{
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    .hide-loader {
      display: none;
    }

    .active {
      left: 0;
    }

    .main {
      margin-left: 201px;
      opacity: 0.5;
    }
  </style>
  <style>
    #sidebar {
      min-width: 250px;
      max-width: 250px;
      color: #fff;
      transition: all 0.3s;
    }

    #sidebar.active {
      min-width: 80px;
      max-width: 80px;
      text-align: center;
    }

    dropdown {
      float: left;
      overflow: hidden;
    }

    .dropdown .dropbtn {
      font-size: 16px;
      border: none;
      outline: none;
      color: white;
      padding: 14px 16px;
      background-color: inherit;
      font-family: inherit;
      margin: 0;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #f9f9f9;
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
      z-index: 1;
    }
    .dropdown-content a {
      float: none;
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      text-align: left;
    }
    .dropdown-content a:hover {
      background-color: #ddd;
    }

    .dropdown:hover .dropdown-content {
      display: block;
    }


    .tab {
      overflow: hidden;
      border: 1px solid #ccc;
      background-color: #f1f1f1;
    }

    /* Style the buttons that are used to open the tab content */
    .tab button {
      background-color: inherit;
      float: left;
      border: none;
      outline: none;
      cursor: pointer;
      padding: 14px 16px;
      transition: 0.3s;
    }

    /* Change background color of buttons on hover */
    .tab button:hover {
      background-color: #ddd;
    }

    /* Create an active/current tablink class */
    .tab button.active {
      background-color: #ccc;
    }

    /* Style the tab content */
    .tabcontent {
      display: none;
      padding: 6px 12px;
      border: 1px solid #ccc;
      border-top: none;
    }



    .tab .search-container {
      float: right;
    }

    .tab input[type=text] {
      padding: 6px;
      margin-top: 8px;
      font-size: 17px;
      border: 1px solid #d1d3e2;
      border-radius: 0.35rem;
    }

    .tab .search-container button {
      float: right;
      padding: 8px 10px;
      margin-top: 0px;
      margin-right: 16px;
      background: #ddd;
      font-size: 17px;
      border: none;
      cursor: pointer;
    }

    .tab .search-container button:hover {
      background: #ccc;
    }

    .round {
      -moz-border-radius: 15px;
      border-radius: 11px;
      padding: 5px;
      border: 2px solid orange;
      background: orange;
    }

    /* button css */


    .btn3d {
      position: relative;
      top: -6px;
      border: 0;
      transition: all 40ms linear;
      margin-top: 10px;
      margin-bottom: 10px;
      margin-left: 2px;
      margin-right: 2px;
    }

    .btn3d:active:focus,
    .btn3d:focus:hover,
    .btn3d:focus {
      -moz-outline-style: none;
      outline: medium none;
    }

    .btn3d:active,
    .btn3d.active {
      top: 2px;
    }

    .btn3d.btn-white {
      color: #666666;
      box-shadow: 0 0 0 1px #ebebeb inset, 0 0 0 2px rgba(255, 255, 255, 0.10) inset, 0 8px 0 0 #f5f5f5, 0 8px 8px 1px rgba(0, 0, 0, .2);
      background-color: #fff;
    }

    .btn3d.btn-white:active,
    .btn3d.btn-white.active {
      color: #666666;
      box-shadow: 0 0 0 1px #ebebeb inset, 0 0 0 1px rgba(255, 255, 255, 0.15) inset, 0 1px 3px 1px rgba(0, 0, 0, .1);
      background-color: #fff;
    }

    .btn3d.btn-default {
      color: #666666;
      box-shadow: 0 0 0 1px #ebebeb inset, 0 0 0 2px rgba(255, 255, 255, 0.10) inset, 0 8px 0 0 #BEBEBE, 0 8px 8px 1px rgba(0, 0, 0, .2);
      background-color: #f9f9f9;
    }

    .btn3d.btn-default:active,
    .btn3d.btn-default.active {
      color: #666666;
      box-shadow: 0 0 0 1px #ebebeb inset, 0 0 0 1px rgba(255, 255, 255, 0.15) inset, 0 1px 3px 1px rgba(0, 0, 0, .1);
      background-color: #f9f9f9;
    }

    .btn3d.btn-primary {
      box-shadow: 0 0 0 1px #417fbd inset, 0 0 0 2px rgba(255, 255, 255, 0.15) inset, 0 8px 0 0 #4D5BBE, 0 8px 8px 1px rgba(0, 0, 0, 0.5);
      background-color: #4274D7;
    }

    .btn3d.btn-primary:active,
    .btn3d.btn-primary.active {
      box-shadow: 0 0 0 1px #417fbd inset, 0 0 0 1px rgba(255, 255, 255, 0.15) inset, 0 1px 3px 1px rgba(0, 0, 0, 0.3);
      background-color: #4274D7;
    }

    .btn3d.btn-success {
      box-shadow: 0 0 0 1px #31c300 inset, 0 0 0 2px rgba(255, 255, 255, 0.15) inset, 0 8px 0 0 #5eb924, 0 8px 8px 1px rgba(0, 0, 0, 0.5);
      background-color: #78d739;
    }

    .btn3d.btn-success:active,
    .btn3d.btn-success.active {
      box-shadow: 0 0 0 1px #30cd00 inset, 0 0 0 1px rgba(255, 255, 255, 0.15) inset, 0 1px 3px 1px rgba(0, 0, 0, 0.3);
      background-color: #78d739;
    }

    .btn3d.btn-info {
      box-shadow: 0 0 0 1px #00a5c3 inset, 0 0 0 2px rgba(255, 255, 255, 0.15) inset, 0 8px 0 0 #348FD2, 0 8px 8px 1px rgba(0, 0, 0, 0.5);
      background-color: #39B3D7;
    }

    .btn3d.btn-info:active,
    .btn3d.btn-info.active {
      box-shadow: 0 0 0 1px #00a5c3 inset, 0 0 0 1px rgba(255, 255, 255, 0.15) inset, 0 1px 3px 1px rgba(0, 0, 0, 0.3);
      background-color: #39B3D7;
    }

    .btn3d.btn-warning {
      box-shadow: 0 0 0 1px #d79a47 inset, 0 0 0 2px rgba(255, 255, 255, 0.15) inset, 0 8px 0 0 #D79A34, 0 8px 8px 1px rgba(0, 0, 0, 0.5);
      background-color: #FEAF20;
    }

    .btn3d.btn-warning:active,
    .btn3d.btn-warning.active {
      box-shadow: 0 0 0 1px #d79a47 inset, 0 0 0 1px rgba(255, 255, 255, 0.15) inset, 0 1px 3px 1px rgba(0, 0, 0, 0.3);
      background-color: #FEAF20;
    }

    .btn3d.btn-danger {
      box-shadow: 0 0 0 1px #b93802 inset, 0 0 0 2px rgba(255, 255, 255, 0.15) inset, 0 8px 0 0 #AA0000, 0 8px 8px 1px rgba(0, 0, 0, 0.5);
      background-color: #D73814;
    }

    .btn3d.btn-danger:active,
    .btn3d.btn-danger.active {
      box-shadow: 0 0 0 1px #b93802 inset, 0 0 0 1px rgba(255, 255, 255, 0.15) inset, 0 1px 3px 1px rgba(0, 0, 0, 0.3);
      background-color: #D73814;
    }

    .btn3d.btn-magick {
      color: #fff;
      box-shadow: 0 0 0 1px #9a00cd inset, 0 0 0 2px rgba(255, 255, 255, 0.15) inset, 0 8px 0 0 #9823d5, 0 8px 8px 1px rgba(0, 0, 0, 0.5);
      background-color: #bb39d7;
    }

    .btn3d.btn-magick:active,
    .btn3d.btn-magick.active {
      box-shadow: 0 0 0 1px #9a00cd inset, 0 0 0 1px rgba(255, 255, 255, 0.15) inset, 0 1px 3px 1px rgba(0, 0, 0, 0.3);
      background-color: #bb39d7;
    }

    th {
      color: black;


    }

    #blink {
      font-size: 17px;
      color: black;
      font-weight: bold;
      animation: blink 4.5s linear infinite alternate 3.5s;

    }

    @keyframes blink {
      70% {
        color: white;
      }

      90% {
        color: rgb(247, 20, 12);
      }

      100% {
        color: rgb(34, 33, 33);
      }
    }

    .blinks {
      color: black;
      animation: blink 1s linear infinite;
    }

    @keyframes blinks {
      0% {
        opacity: 0;
      }

      50% {
        opacity: .5;
      }

      100% {
        opacity: 1;
      }
    }
  </style>
  <script>
    $(document).ready(function () {
      $('.menu_bar').click(function () {
        alert("helo");
        $('header').toggleClass('active');
        $('main').toggleClass('main');
      })
      $('#menu_close').click(function () {
        if (document.getElementById('navheader').className == "active") {
          $('header').toggleClass('active');
          $('main').toggleClass('main');
        }
      })
    })
  </script>
  <script>
    function openCity(evt, cityName) {
      // Declare all variables
      var i, tabcontent, tablinks;

      // Get all elements with class="tabcontent" and hide them
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }

      // Get all elements with class="tablinks" and remove the class "active"
      tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }

      // Show the current tab, and add an "active" class to the button that opened the tab
      document.getElementById(cityName).style.display = "block";
      evt.currentTarget.className += " active";
    }
  </script>



</head>

<body id="page-top">
  <!-- Page Wrapper -->


  <div id="wrapper">
    <!-- Sidebar -->

    {%if request.user.is_authenticated %}
    {% include 'web/jinja2/partials/sidebar.html.j2' %}
    {%endif%}
    <!-- End of Sidebar -->
    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column bg-white" style="margin-left: 70px;">

      <!-- Main Content -->
      <div id="content">

        <!-- Topbar -->
        <nav class="navbar navbar-expand navbar-light bg-white topbar mb-0 static-top border-bottom">

          <!-- Sidebar - Brand -->
          {%if not request.user.is_authenticated%}



          {%endif%}




          <!-- Topbar Navbar -->
          {%if request.user.is_authenticated%}
          <a class="nav-link  text-dark" href="/">
            <button type="button" class="btn btn-primary btn"
              style="background-image: linear-gradient(315deg, #ff4e00 0%, #ec9f05 74%);">DashBoard</button>
          </a>
          <ul class="navbar-nav ml-auto">



            <!-- Nav Item - Alerts -->
            <li class="nav-item dropdown no-arrow mx-1">
              <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-bell fa-2x"></i>
                <span style="font-size:15px;" class="badge badge-danger badge-counter">{% if assign_me
                  %}{{assign_me}}+{%endif%}</span>
              </a>
              <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in"
                aria-labelledby="alertsDropdown">
                <h6 class="dropdown-header">
                  Alerts Center
                </h6>
                
                {% for ticket in myTickets %}
                <div>
                <a class="dropdown-item d-flex align-items-center" href="/Ticket/viewraiseticket/{{ticket.id}}/">
                  <div class="mr-3" >
                    <div class="icon-circle ">
                      <i class="fa fa-ticket" aria-hidden="true" style="margin-top:10px"></i>
                    </div>
                  </div>
                  <div class="myDiv" >
                    <div class="small text-black-500">{{ticket.created.strftime("%d/%m/%Y %I:%M %p")}}<span style="color: orange;font-weight:bold;float:right">(TKT_{{ticket.ticket_id}})</span></div>
                    <span class="font-weight-bold">subject: {{ticket.subject}} <br> You have Assign a Ticket please
                      check</span>
                  </div>
                </a>
              </div>
                {% endfor %}
                


                <!-- <a class="dropdown-item text-center small text-gray-500" href="#">Show All Alerts</a> -->
              </div>
            </li>


            {% if request.user.is_superuser==True %}
            <li class="nav-item">
              <a class="nav-link  text-dark" href="{{url('scheduler')}}">
                <button type="button" class="btn btn-primary btn"
                  style="background-image: linear-gradient(315deg, #ff4e00 0%, #ec9f05 74%);">Scheduler</button>
              </a>
            </li>
            {%endif%}
            <li class="nav-item">
              <a class="nav-link  text-dark" href="{{url('ticket')}}">
                <!-- <button type="button" class="btn btn-primary btn" style="background-image: linear-gradient(315deg, #ff4e00 0%, #ec9f05 74%); ">Ticket Raise</button> -->
                <button type="button" class="btn btn-warning btn-lg btn3d"
                  style="background-image: linear-gradient(315deg, #ff4e00 0%, #ec9f05 74%); "><span
                    class="glyphicon glyphicon-warning-sign"></span> Ticket Raise</button>
              </a>
            </li>




            <!-- Nav Item - User Information -->
            <li class="nav-item dropdown no-arrow border-left">
              <a class="nav-link dropdown-toggle px-4 text-dark" href="#" id="userDropdown" role="button"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">

                {{request.user.name|title}} <i class="fas fa-angle-down pl-2"></i>
              </a>
              <!-- Dropdown - User Information -->

              <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                {%if request.user.is_authenticated%}
                <a class="dropdown-item" href="#">
                  <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                  Profile
                </a>
                <a class="dropdown-item" href="#">
                  <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
                  Settings
                </a>
                <a class="dropdown-item" href="#">
                  <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
                  Activity Log
                </a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="{{url('logout')}}" data-toggle="modal" data-target="#logoutModal">
                  <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                  Logout
                </a>
                {%else%}

                {%endif%}
              </div>
            </li>

          </ul>
          {%endif%}
        </nav>

        <!-- End of Topbar -->

        <!-- Begin Page Content -->
        {% block content %}






        <br>



        <div class="tab" style="width: 100%;">

          <button id="defaultOpen" class="tablinks" onclick="openCity(event, 'London')">Assign to me
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="round"
              style="background-image: linear-gradient(315deg, #ff4e00 0%, #ec9f05 74%);">{{assign_me}}</span></button>

          <button class="tablinks" onclick="openCity(event, 'Paris')">Raised By Me &nbsp;&nbsp;&nbsp;&nbsp;<span
              class="round"
              style="background-image: linear-gradient(315deg, #ff4e00 0%, #ec9f05 74%);">{{total_ticket}}</span>
          </button>
          {% if request.user.is_admin == True %}
          <button id="defaultOpen" class="tablinks" onclick="openCity(event, 'Tokyo')">View All Ticket
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="round"
              style="background-image: linear-gradient(315deg, #ff4e00 0%, #ec9f05 74%);">{{all_ticket}}</span></button>
              <button id="defaultOpen" class="tablinks" onclick="openCity(event, 'Japan')">Recurring Task
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="round"
                  style="background-image: linear-gradient(315deg, #ff4e00 0%, #ec9f05 74%);">{{all_ticket}}</span></button>
          {%endif%}


          <div class="search-container">
            <form action="">
              <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search....">
            </form>
          </div>


        </div>

        <!-- Tab content -->






        <div id="London" class="tabcontent">

          <div>
            <br>
            

            <table id="dtBasicExample" class="table table-striped table-bordered table-sm" width="100%">
              
              <thead>
                <tr>
                  <th class="th-sm">Ticket ID/Created At</th>
                  <th class="th-sm">Raised By</th>
                  <th class="th-sm">Subject/Message</th>
                  <th class="th-sm">Type</th>
                  <!-- <th class="th-sm">Created At</th> -->
                  <th class="th-sm">Assigned/Closed Date:</th>

                  <th style="    width: 12%;">Priority</th>
                  <th class="th-sm">Status</th>

                </tr>
              </thead>
              <tbody id="myTtable">
                {% for ticket in myTickets %}


                <tr>

                  <td style="color: black;     width: 15%;"><a
                      href="/Ticket/viewraiseticket/{{ticket.id}}/">TKT_{{ticket.ticket_id}}</a><br><span
                      style="font-size: 12px;">{{ticket.created.strftime("%d/%m/%Y %I:%M %p")}}</span></td>
                  <td style="color: black;">{{ticket.user.name}}</td>
                  <td style="color: black;"><strong style="font-size: 18px;">{{ticket.subject}}</strong>
                    <br>{{ticket.msg[0:40]}}....</td>
                  {% if ticket.Type=='Query' %}
                  <td style="color: black;">{{ticket.Type}}</td>
                  {% endif %}
                  {% if ticket.Type=='Suggestion' %}
                  <td style="color: green;">{{ticket.Type}}</td>
                  {% endif %}
                  {% if ticket.Type=='Complaint' %}
                  <td style="color: red;">{{ticket.Type}}</td>
                  {% endif %}
                  <!-- <td style="color: black;">{{ticket.created.strftime("%d/%m/%Y ")}} <br>{{ticket.created.strftime(" %I:%M %p")}}</td> -->
                  <td style="color: black;width: 15%;">{% if ticket.assigned_date %} <span
                      style="font-size: 14px;">{{ticket.assigned_date.strftime("%d/%m/%Y %I:%M %p")}}</span>
                    {% else %}
                    {% endif %}<br><span style="font-size: 14px;">{{ticket.created.strftime("%d/%m/%Y %I:%M
                      %p")}}</span></td>

                  <!-- priority choices td start------  -->
                  {% if ticket.priority=='High' %}
                  <td><i class='fa fa-star fa-xs' style='color: red;'></i><i class='fa fa-star fa-xs'
                      style='color: red'></i><i class='fa fa-star fa-xs' style='color: red'></i><i
                      class='fa fa-star fa-xs' style='color: red'></i><i class='fa fa-star fa-xs'
                      style='color: red'></i></td>
                  {% endif %}
                  {% if ticket.priority=='Low' %}
                  <td><i class='fa fa-star' style='color: green'></i> </td>
                  {% endif %}
                  {% if ticket.priority=='Medium' %}
                  <td> <i class='fa fa-star' style='color: #f3da35'></i><i class='fa fa-star'
                      style='color: #f3da35'></i><i class='fa fa-star' style='color: #f3da35'></i></td>
                  {% endif %}
                  <!-- priority choices td END---- -->
                  <!-- Status choices td start------  -->
                  {% if ticket.status=='Complete' %}
                  <td style="color: orange;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status=='Closed' %}
                  <td style="color: rgb(189, 161, 39);">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status=='Active' %}
                  <td style="color: black;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status=='WIP' %}
                  <td style="color: green;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status=='Hold' %}
                  <td class="blinks" style="color: red;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status=='Re-open' %}
                  <td style="color: purple;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status==none %}
                  <td style="color: rgb(25, 195, 201);">{{ticket.status}}</td>
                  {% endif %}
                  <!-- Status choices td END------  -->

                </tr>
                {% endfor %}
              </tbody>
            </table>


          </div>


        </div>

        <div id="Paris" class="tabcontent">

          <div>

            <br>
            <table class="table table-striped" border=1>
              <thead>
                <tr>
                  <th>Ticket ID/Created At</th>
                  <th>Type</th>
                  <th>Subject/Message</th>
                  <th style=" width: 19%;">Assigned/Closed Date:</th>

                  <th style="width: 12%;">Priority</th>
                  <th>Status</th>
                  <th>Assign to</th>

                </tr>
              </thead>
              <tbody id="mytable">
                {% for ticket in myTicket %}


                <tr>

                  <td style="color: black; width: 15%;"><a
                      href="/Ticket/viewraiseticket/{{ticket.id}}/">TKT_{{ticket.ticket_id}}</a><br><span
                      style="font-size: 12px;">{{ticket.created.strftime("%d/%m/%Y %I:%M %p")}}</span></td>
                      {% if ticket.Type=='Query' %}
                      <td style="color: black;">{{ticket.Type}}</td>
                      {% endif %}
                      {% if ticket.Type=='Suggestion' %}
                      <td style="color: green;">{{ticket.Type}}</td>
                      {% endif %}
                      {% if ticket.Type=='Complaint' %}
                      <td style="color: red;">{{ticket.Type}}</td>
                      {% endif %}
                  <td style="color: black;"><strong style="font-size: 18px;">{{ticket.subject}}</strong>
                    <br>{{ticket.msg[0:45]}}....</td>
                  <td style="color: black;width: 15%;">{% if ticket.assigned_date %} <span
                      style="font-size: 14px;">{{ticket.assigned_date.strftime("%d/%m/%Y %I:%M %p")}}</span>
                    {% else %}
                    {% endif %}<br><span style="font-size: 14px;">{{ticket.created.strftime("%d/%m/%Y %I:%M
                      %p")}}</span></td>

                  <!-- Priority choices td start------  -->
                  {% if ticket.priority=='High' %}
                  <td style="width: 9%;"><i class='fa fa-star fa-xs' style='color: red;'></i><i class='fa fa-star fa-xs'
                      style='color: red'></i><i class='fa fa-star fa-xs' style='color: red'></i><i
                      class='fa fa-star fa-xs' style='color: red'></i><i class='fa fa-star fa-xs'
                      style='color: red'></i></td>
                  {% endif %}
                  {% if ticket.priority=='Low' %}
                  <td style="width: 9%;"><i class='fa fa-star' style='color: green'></i></td>
                  {% endif %}
                  {% if ticket.priority=='Medium' %}
                  <td style="width: 9%;"> <i class='fa fa-star' style='color: #f3da35'></i><i class='fa fa-star'
                      style='color: #f3da35'></i><i class='fa fa-star' style='color: #f3da35'></i></td>
                  {% endif %}
                  <!-- Priority choices td END------  -->
                  <!-- Status choices td start------  -->
                  {% if ticket.status=='Complete' %}
                  <td style="color: orange;width: 8%;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status=='Closed' %}
                  <td style="color: rgb(189, 161, 39);width: 8%;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status=='Active' %}
                  <td style="color: black;width: 8%;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status=='WIP' %}
                  <td style="color: green;width: 8%;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status=='Hold' %}
                  <td class="blinks" style="color: red;width: 8%;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status=='Re-open' %}
                  <td style="color: purple;width: 8%;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status==none %}
                  <td style="color: rgb(25, 195, 201);width: 8%;">{{ticket.status}}</td>
                  {% endif %}
                  <td style="color: black;width: 12%;">{% if ticket.assign_to.name %} {{ticket.assign_to.name}}
                    {% else %}Not Assign!
                    {% endif %}
                  </td>
                  <!-- Status choices td END------  -->




                </tr>
                {% endfor %}
              </tbody>
            </table>


          </div>
        </div>

        <div id="Tokyo" class="tabcontent" style="display: flex;">

          <div>

            <br>
            <table class="table table-striped" border=1>
              <thead>
                <tr>
                  <th style="    width: 14%;">Ticket ID/Created At</th>
                  <th>Raised By</th>
                  <th>Subject/Message</th>
                  <th>Type</th>

                  <th style=" width: 19%;">Assigned/Closed Date:</th>

                  <th style="width: 9%;">Priority</th>
                  <th>Status</th>
                  <th id="assign">Assign to </th>

                </tr>
              </thead>
              <tbody id="myTable">
                {% for ticket in myTickets_all %}
                <tr>
                  <td style="color: black;     width: 14%;"><a
                      href="/Ticket/viewraiseticket/{{ticket.id}}/">TKT_{{ticket.ticket_id}}</a><br><span
                      style="font-size: 12px;">{{ticket.created.strftime("%d/%m/%Y %I:%M %p")}}</span></td>
                  <td style="color: black;">{{ticket.user.name}}</td>
                  <td style="color: black;"><strong style="font-size: 18px;">{{ticket.subject}}</strong>
                    <br>{{ticket.msg[0:20]}}....</td>
                    {% if ticket.Type=='Query' %}
                    <td style="color: black;">{{ticket.Type}}</td>
                    {% endif %}
                    {% if ticket.Type=='Suggestion' %}
                    <td style="color: green;">{{ticket.Type}}</td>
                    {% endif %}
                    {% if ticket.Type=='Complaint' %}
                    <td style="color: red;">{{ticket.Type}}</td>
                    {% endif %}

                  <td style="color: black;width: 15%;">{% if ticket.assigned_date %} <span
                      style="font-size: 14px;">{{ticket.assigned_date.strftime("%d/%m/%Y %I:%M %p")}}</span>
                    {% else %}
                    {% endif %}<br><span style="font-size: 14px;">{{ticket.created.strftime("%d/%m/%Y %I:%M
                      %p")}}</span></td>

                  <!-- Priority choices td start------  -->
                  {% if ticket.priority=='High' %}
                  <td style="width: 9%;"><i class='fa fa-star fa-xs' style='color: red;'></i><i class='fa fa-star fa-xs'
                      style='color: red'></i><i class='fa fa-star fa-xs' style='color: red'></i><i
                      class='fa fa-star fa-xs' style='color: red'></i><i class='fa fa-star fa-xs'
                      style='color: red'></i></td>
                  {% endif %}
                  {% if ticket.priority=='Low' %}
                  <td style="width: 9%;"><i class='fa fa-star' style='color: green'></i> </td>
                  {% endif %}
                  {% if ticket.priority=='Medium' %}
                  <td style="width: 9% ;"> <i class='fa fa-star' style='color: #f3da35'></i><i class='fa fa-star'
                      style='color: #f3da35'></i><i class='fa fa-star' style='color: #f3da35'></i></td>
                  {% endif %}
                  <!-- Priority choices td END------  -->
                  <!-- Status choices td start------  -->
                  {% if ticket.status=='Complete' %}
                  <td style="color: orange; width: 8%;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status=='Closed' %}
                  <td style="color: rgb(189, 161, 39);width: 8%;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status=='Active' %}
                  <td style="color: black;width: 8%;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status=='WIP' %}
                  <td style="color: green;width: 8%;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status=='Hold' %}
                  <td class="blinks" style="color: red;width: 8%;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status=='Re-open' %}
                  <td style="color: purple;width: 8%;">{{ticket.status}}</td>
                  {% endif %}
                  {% if ticket.status==none %}
                  <td style="color: rgb(25, 195, 201);width: 8%;">{{ticket.status}}</td>
                  {% endif %}
                  <!-- Status choices td END------  -->
                  <!-- <td>{{ticket.assign_to.name}}</td> -->
                  <td style="color: black;width: 8%;">{% if ticket.assign_to.name %} {{ticket.assign_to.name}}
                    {% else %}Not Assign!
                    {% endif %}
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>


          </div>
        </div>

<!-- #####RECURRING TASK TAB START ############ -->



<div id="Japan" class="tabcontent" style="display: flex;">

  <div>

    <br>
              
    <button style="float: right;" type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
      Add Transporter
    </button>
    <table class="table table-striped" border=1>
      <thead>
        <tr>
          <th style="    width: 14%;">Ticket ID/Created At</th>
          <th>Raised By</th>
          <th>Subject/Message</th>
          <th>Type</th>

          <th style=" width: 19%;">Assigned/Closed Date:</th>

          <th style="width: 9%;">Priority</th>
          <th>Status</th>
          <th id="assign">Assign to </th>

        </tr>
      </thead>
      <tbody id="myTable">
        
        <tr>
          
            <td>4545</td>
            <td>effsf</td>
            <td>wfeff</td>
            <td>csc</td>
            <td>sdscs</td>
            <td>dsdc</td>
            <td>sdcsc</td>
            <td>ukutyk</td>
        </tr>
        
      </tbody>
    </table>


  </div>
</div>
<!-- #####RECURRING TASK TAB END ############ -->





        {% endblock %}
        <!-- /.container-fluid -->


      </div>
      <!-- End of Main Content -->

      <!-- Footer -->
      <!-- <footer class="sticky-footer bg-white border-top">
        <div class="container my-auto">
          <div class="copyright text-center my-auto">
            <span>Copyright &copy; Crusher&Mines 2021</span>
          </div>
        </div>
      </footer> -->
      <!-- End of Footer -->

    </div>
    <!-- End of Content Wrapper -->

  </div>
  <!-- End of Page Wrapper -->

  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>

  <!-- Global CSRF-TOKEN-->
  <div class="d-none csrf-token" data-csrf-token="{{csrf_token}}">
  </div>
  <!-- Global looged-in user-id-->
  <div class="d-none user-id" data-user="{{request.user.id}}">
  </div>

  <!-- Logout Modal-->
  <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
        <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
          <a class="btn btn-primary" href="{{url('logout')}}">Logout</a>
        </div>
      </div>
    </div>
  </div>
  <!-- End of Page Wrapper -->

  <!-- Bootstrap core JavaScript-->
  {%block footer%}
  <script src="{{static ('vendor/jquery/jquery.min.js')}}"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.0.4/popper.js"></script>
  <script src="{{static ('vendor/bootstrap/js/bootstrap.min.js')}}"></script>

  <!-- Core plugin JavaScript-->
  <script src="{{static ('vendor/jquery-easing/jquery.easing.min.js')}}"></script>

  <!-- Custom scripts for all pages-->
  <script src="{{static ('js/sb-admin-2.min.js')}}"></script>
  <script src="{{static ('js/search-filter.js')}}"></script>

  <!-- Page level plugins -->
  <script src="../static/vendor/chart.js/Chart.min.js"></script>

  <!-- Page level custom scripts -->

  <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
  <!-- Added By Desh Deepak -->

  {#
  <script src="{{static ('js/demo/chart-area-demo.js')}}"></script> #}
  <script src="{{static ('js/demo/chart-pie-demo.js')}}"></script>
  <!-- <script src="{{static ('vendor/datatables/dataTables.bootstrap4.min.js')}}"></script>
  <script src="{{static ('vendor/datatables/jquery.dataTables.min.js')}}"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js"
    type="text/javascript"></script>
  <script src="{{static ('js/bootstrap-select.js')}}"></script>
  <script>
    $(document).ready(function () {
      $('.select2_dropdown').select2();
    });
  </script>
  <script>
    $('.custom-file-input').on('change', function () {
      var fileName = document.getElementById("customFile").files[0].name;
      $(this).next('.custom-file-label').addClass("selected").html(fileName);
    })
  </script>
  <script>
    $('.dropdown-toggle').dropdown();

  </script>
  <script>
    $(".datepicker").flatpickr({
      dateFormat: "Y-m-d",
      altInput: true,
      allowInput: true,
    });
    $(".timepicker").flatpickr({
      enableTime: true,
      noCalendar: true,
      dateFormat: "H:i",
      allowInput: true,
      time_24hr: true,
    });

    //$( document ).ready(function() {
    // var oTable= $('#dataTable1').DataTable({
    //     "searching": false,
    // "bInfo": false,
    //"lengthChange": false,
    //      "order": [],
    //    'columnDefs': [{
    //        "targets": [0,1,2,3,4,5,6,7,8],
    //      "orderable": false
    //}]
    //});

    //    })
    $('#dataTable, #dataTable-new, #dataTable1').DataTable({ "order": [] });
  </script>


  <script src="{{static ('js/valid-form.js')}}"></script>

  <script src="{{static ('js/custom-validation.js')}}"></script>
  <script src="{{static ('js/validation.js')}}"></script>
  <script src="{{ static('toastr/toastr.min.js')  }}"></script>
  <script src="{{static ('js/price.js')}}"></script>
  <script src="{{static ('js/ratings.js')}}"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <script>
    $(document).ready(function () {

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar').toggleClass('active', 'fixed');

      });

    });
  </script>
  <script>

  </script>
  <script>
    $(document).ready(function () {
      $('#dtBasicExample').DataTable();
      $('.dataTables_length').addClass('bs-select');
    });
  </script>
  <script>
    $(document).ready(function () {
      $("#myInput").on("keyup", function () {
        var value = $(this).val().toLowerCase();
        $("#myTable tr").filter(function () {
          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
      });
    });
  </script>
  <script>
    $(document).ready(function () {
      $("#myInput").on("keyup", function () {
        var value = $(this).val().toLowerCase();
        $("#mytable tr").filter(function () {
          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
      });
    });
  </script>
  <script>
    $(document).ready(function () {
      $("#myInput").on("keyup", function () {
        var value = $(this).val().toLowerCase();
        $("#myTtable tr").filter(function () {
          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
      });
    }); myTtable
  </script>
  <script>

    document.getElementById("defaultOpen").click();
  </script>
  <script>
    $('table').dataTable({ searching: false });
  </script>






  {%if toastrerror%}
  <script type="text/javascript">
    toastr.error('{{toastrerror}}');
  </script>
  {%endif%}

  {%if toastrsuccess %}
  <script type="text/javascript">
    toastr.success('{{toastrsuccess}}');
  </script>
  {%endif%}
  {% block extra_footer_script %}
  {% endblock %}
  {%endblock%}

  {% block javascript %}
  {% endblock javascript %}



</body>

</html>